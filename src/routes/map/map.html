<template>
  <require from="leaflet/leaflet.css"></require>
  <require from="./map.css"></require>
  <require from="../../components/report-info/report-info"></require>
  <require from="../../components/watch-card/watch-card"></require>
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@mayankojha" />
  <meta name="twitter:title" content="Petabencana.id" />
  <meta name="twitter:description" content="Crowd sourced flood mapping" />
  <meta name="twitter:image" content="https://dev.petabencana.id/assets/images/cards_image.png" />

  <div id="pageWrapper">
    <div id="mapContainer">
    </div>

    <div id="topBar">
        <label repeat.for="language of languages">
          <input type="radio" model.bind="language" checked.bind="i18n.i18next.language" change.delegate="changeLanguage()">${language}
        </label>
        &nbsp;${title}
      <div id="logos">
        <a href="https://dev.petabencana.id">
          <img src="assets/graphics/Peta_logo.svg">
        </a>
      </div>
      <div id="optionsBtn" click.delegate="showMenu()">
        <i class="icon-menu"></i>
      </div>
    </div>

    <div id="bottomBar">
      <div id="logos_bottom">
        <a href="http://urbanrisklab.org">
          <img id="mitLogo" src="assets/graphics/URL_logo.svg">
        </a>
      </div>
      <div id="links">
        <div repeat.for="city_region of city_regions" class="cityLinks">
          <a click.delegate="viewReport(city_region, true)">${city_region}</a>
        </div>
      </div>
    </div>

    <div id="reportPane">
      <div class="closeBtn" click.delegate="togglePane('close', '#reportPane')">
        <i class="icon-cancel-1" aria-hidden="true"></i>
      </div>
      <report-info id="preview" if.bind="layers.popupContent.pkey" pkey.bind="layers.popupContent.pkey" city.bind="city_name" imageurl.bind="layers.popupContent.image_url" height.bind="layers.popupContent.report_data.flood_depth" title.bind="layers.popupContent.title" text.bind="layers.popupContent.text">
      </report-info>
    </div>

    <div id="watchPane">
      <div class="closeBtn" click.delegate="togglePane('close', '#watchPane')">
        <i class="icon-cancel-1" aria-hidden="true"></i>
      </div>
      <watch-card>
      </watch-card>
    </div>
  </div>
</template>
