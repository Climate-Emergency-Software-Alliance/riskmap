{"version":3,"sources":["app.js","environment.js","main.js","resources/index.js","routes/cards/cards.js","routes/cards/depth/depth.js","routes/cards/description/description.js","routes/cards/location/location.js","routes/cards/photo/photo.js","routes/cards/review/review.js","/Users/apple/petabencana.id/petabencana-aurelia/node_modules/leaflet/dist/leaflet.js","/Users/apple/petabencana.id/petabencana-aurelia/src/app.html","/Users/apple/petabencana.id/petabencana-aurelia/src/routes/cards/cards.html","/Users/apple/petabencana.id/petabencana-aurelia/src/routes/cards/location/leaflet.css","/Users/apple/petabencana.id/petabencana-aurelia/src/routes/cards/depth/depth.html","/Users/apple/petabencana.id/petabencana-aurelia/src/routes/cards/location/location.html","/Users/apple/petabencana.id/petabencana-aurelia/src/routes/cards/description/description.html","/Users/apple/petabencana.id/petabencana-aurelia/src/routes/cards/photo/photo.html","/Users/apple/petabencana.id/petabencana-aurelia/src/routes/cards/review/review.html"],"names":["App","configureRouter","config","router","title","map","route","moduleId","debug","testing","configure","Promise","longStackTraces","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","Cards","redirect","settings","cardNo","location","description","activate","params","id","attached","totalCards","routes","length","count","currentInstruction","nextCard","navigate","prevCard","testFn","console","log","selectedLocation","Depth","Description","descripText","textLength","clearText","charCount","L","Location","cardMap","tileLayer","attribution","addTo","locate","setView","zoom","on","e","circle","getCenter","weight","fillColor","fillOpacity","radius","accuracy","circleMarker","color","center"],"mappings":"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","file":"app-bundle.js","sourcesContent":["/* jshint esversion: 6 */\n\nexport class App {\n\n  configureRouter(config, router) {\n    config.title = 'Petabencana.id';\n    config.map([\n      {route: '',                         moduleId: 'routes/map/landing',   title: 'Home'},\n      /*{route: 'jakarta',                moduleId: 'routes/map/jakarta',   title: 'PetaBencana Jakarta',    name: 'jakarta'},\n      {route: 'jakarta',                  moduleId: 'routes/map/surbaya',   title: 'PetaBencana Surbaya',    name: 'surbaya'},\n      {route: 'jakarta',                  moduleId: 'routes/map/bandung',   title: 'PetaBencana Bandung',    name: 'bandung'},*/\n      {route: 'cards/:id',                moduleId: 'routes/cards/cards'}\n    ]);\n\n    this.router = router;\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  longStackTraces: environment.debug,\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","/* jshint esversion: 6 */\nimport {inject} from 'aurelia-framework';\nimport {Location} from './location/location';\nimport {Description} from './description/description';\n\n@inject(Location, Description) //no semicolon\nexport class Cards {\n\n  configureRouter(config, router) {\n    config.title = 'Flood report';\n    config.map([\n      {route: '',             redirect: 'location'},\n      {route: 'location',     moduleId: './location/location',        settings: {title: 'Select location',    cardNo: 1}},\n      {route: 'depth',        moduleId: './depth/depth',              settings: {title: 'Report water depth', cardNo: 2}},\n      {route: 'photo',        moduleId: './photo/photo',              settings: {title: 'Upload a photo',     cardNo: 3}},\n      {route: 'description',  moduleId: './description/description',  settings: {title: 'Add description',    cardNo: 4}},\n      {route: 'review',       moduleId: './review/review',            settings: {title: 'Review & submit',    cardNo: 5}}\n    ]);\n    this.router = router;\n  }\n\n  constructor(location, description) { //Takes input from injected class, same order of params as injected class objects\n    this.location = location;\n    this.description = description;\n  }\n\n  activate(params) {\n    this.id = params.id;\n  }\n\n  attached() {\n    this.totalCards = this.router.routes.length - 1; //exclude {route:'', redirect:'location')\n    this.count = this.router.currentInstruction.config.settings.cardNo;\n  }\n\n  get cardTitle() {\n    return this.router.currentInstruction.config.settings.title;\n  }\n\n  nextCard() {\n    if (this.count < this.totalCards) {\n      this.count+=1;\n      this.router.navigate(this.router.routes[this.count].route);\n    }\n  }\n\n  prevCard() {\n    if (this.count > 1) {\n      this.count-=1;\n      this.router.navigate(this.router.routes[this.count].route);\n    }\n  }\n\n  get nextDisabled() {\n    if (this.count === 1) {\n      return !this.location.selectedLocation;\n    } else {\n      return this.count === this.totalCards;\n    }\n  }\n\n  get prevDisabled() {\n    return this.count === 1;\n  }\n\n  testFn() {\n    console.log(this.description);\n  }\n}\n","export class Depth {\n  constructor() {\n    //this.title = 'Report water depth';\n  }\n}\n","/* jshint esversion: 6 */\nimport {computedFrom} from 'aurelia-framework';\n\nexport class Description {\n  attached() {\n    this.descripText = \"Enter text here...\";\n    this.textLength = 0;\n  }\n  clearText() {\n    if (this.textLength === 0) {\n      this.descripText = \"\";\n    }\n  }\n  charCount() {\n    this.textLength = this.descripText.length;\n  }\n\n  @computedFrom('descripText')\n  get text() {\n    if (this.textLength !== 0) {\n      console.log(this.descripText);\n      return `${this.descripText}`;\n    }\n  }\n}\n","/* jshint esversion: 6 */\nimport * as L from '../../../../node_modules/leaflet/dist/leaflet';\n\nexport class Location {\n  constructor() {\n  }\n\n  attached() {\n    let cardMap = L.map('mapWrapper');\n    L.tileLayer('https://api.mapbox.com/styles/v1/asbarve/ciu0anscx00ac2ipgyvuieuu9/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYXNiYXJ2ZSIsImEiOiI4c2ZpNzhVIn0.A1lSinnWsqr7oCUo0UMT7w', {\n      attribution: 'Map data &copy; <a href=\"http://openstreetmap.org\">OSM</a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC BY-SA</a>, Imagery &copy; <a href=\"http://mapbox.com\">Mapbox</a>'\n    }).addTo(cardMap);\n    cardMap.locate({\n      setView: true,\n      zoom: 12\n      //set min/max zoom here\n      //watch: true\n    });\n    cardMap.on('locationfound', function (e) {\n      L.circle(cardMap.getCenter(), {\n        weight: 0,\n        fillColor: 'green',\n        fillOpacity: 0.15,\n        radius: e.accuracy / 2\n      }).addTo(cardMap);\n      L.circleMarker(cardMap.getCenter(), {\n        color: 'white',\n        weight: 1,\n        fillColor: 'green',\n        fillOpacity: 1,\n        radius: 8\n      }).addTo(cardMap);\n      Location.center = cardMap.getCenter();\n    });\n    cardMap.on('locationerror', function () {\n      cardMap.setView([-6.2, 106.83], 10);\n      //set min/max zoom here\n      Location.center = cardMap.getCenter();\n    });\n    cardMap.on('moveend', function () {\n      Location.center = cardMap.getCenter();\n    });\n  }\n\n  get selectedLocation() {\n    if (Location.center) {\n      return Location.center;\n    }\n  }\n}\n","export class Depth {\n  constructor() {\n    //this.title = 'Report water depth';\n  }\n}\n","export class Depth {\n  constructor() {\n    //this.title = 'Report water depth';\n  }\n}\n",null,null,null,null,null,null,null,null,null],"sourceRoot":"../src"}