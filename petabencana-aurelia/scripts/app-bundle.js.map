{"version":3,"sources":["app.js","environment.js","main.js","resources/index.js","components/slider/slider.js","components/text-box/text-box.js","routes/cards/cards.js","routes/maps/maps.js","routes/cards/depth/depth.js","routes/cards/description/description.js","routes/cards/location/location.js","routes/cards/photo/photo.js","routes/cards/review/review.js","routes/maps/jakarta/jakarta.js","routes/maps/surbaya/surbaya.js","/Users/apple/Desktop/petabencana.id/petabencana-aurelia/src/app.html","/Users/apple/Desktop/petabencana.id/petabencana-aurelia/src/routes/cards/cards.css","/Users/apple/Desktop/petabencana.id/petabencana-aurelia/src/components/slider/slider.html","/Users/apple/Desktop/petabencana.id/petabencana-aurelia/src/routes/cards/description/description.css","/Users/apple/Desktop/petabencana.id/petabencana-aurelia/src/components/text-box/text-box.html","/Users/apple/Desktop/petabencana.id/petabencana-aurelia/src/routes/cards/location/location.css","/Users/apple/Desktop/petabencana.id/petabencana-aurelia/src/routes/cards/cards.html","/Users/apple/Desktop/petabencana.id/petabencana-aurelia/src/routes/cards/photo/photo.css","/Users/apple/Desktop/petabencana.id/petabencana-aurelia/src/routes/maps/maps.html","/Users/apple/Desktop/petabencana.id/petabencana-aurelia/src/routes/cards/depth/depth.html","/Users/apple/Desktop/petabencana.id/petabencana-aurelia/src/routes/cards/description/description.html","/Users/apple/Desktop/petabencana.id/petabencana-aurelia/src/routes/cards/location/location.html","/Users/apple/Desktop/petabencana.id/petabencana-aurelia/src/routes/maps/jakarta/jakarta.html","/Users/apple/Desktop/petabencana.id/petabencana-aurelia/src/routes/maps/surbaya/surbaya.html","/Users/apple/Desktop/petabencana.id/petabencana-aurelia/src/routes/cards/review/review.html","/Users/apple/Desktop/petabencana.id/petabencana-aurelia/src/routes/cards/photo/photo.html"],"names":["App","configureRouter","config","router","title","map","route","moduleId","debug","testing","configure","Promise","longStackTraces","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","DepthSlider","updateContent","alert","name","val","DescriptionBox","changeHandler","charLength","clearHint","inputText","textChanged","length","exportText","Cards","redirect","settings","cardNo","msgName","ea","activate","params","id","attached","totalCards","routes","inputs","i","card","type","subscribe","userInputs","index","value","msg","input","nextCard","count","navigate","prevCard","currentInstruction","Maps","Depth","depthVal","routerConfig","updateVal","publish","Description","descripText","textLength","charCount","L","Location","userLocation","cardMap","markerIcon","icon","iconUrl","iconSize","iconAnchor","marker","tileLayer","attribution","addTo","setView","locate","zoom","on","e","circle","getCenter","weight","fillColor","fillOpacity","radius","accuracy","circleMarker","color","removeLayer","Photo","selectedPhoto","haveImg","w","h","drawImage","wrapper","preview","phW","phH","reader","FileReader","onload","reviewImg","Image","cntxt","getContext","src","target","result","readAsDataURL","someName","Jakarta","Surbaya"],"mappings":";;;;;;;;;;;;;MAAaA,cAAAA;;;;;kBAEXC,2CAAgBC,QAAQC,QAAQ;AAC9BD,aAAOE,KAAP,GAAe,gBAAf;AACAF,aAAOG,GAAP,CAAW,CACT,EAACC,OAAO,CAAC,EAAD,EAAK,MAAL,CAAR,EAAoCC,UAAU,kBAA9C,EADS,EAET,EAACD,OAAO,WAAR,EAAoCC,UAAU,oBAA9C,EAFS,CAAX;;AAKA,WAAKJ,MAAL,GAAcA,MAAd;AACD;;;;;;;;;;;oBCVY;AACbK,WAAO,IADM;AAEbC,aAAS;AAFI;;;;;;;;UCUCC,YAAAA;;;;;;;;;;AAPhBC,UAAQT,MAAR,CAAe;AACbU,qBAAiB,sBAAYJ,KADhB;AAEbK,cAAU;AACRC,wBAAkB;AADV;AAFG,GAAf;;AAOO,WAASJ,SAAT,CAAmBK,OAAnB,EAA4B;AACjCA,YAAQC,GAAR,CACGC,qBADH,GAEGC,OAFH,CAEW,WAFX;;AAIA,QAAI,sBAAYV,KAAhB,EAAuB;AACrBO,cAAQC,GAAR,CAAYG,kBAAZ;AACD;;AAED,QAAI,sBAAYV,OAAhB,EAAyB;AACvBM,cAAQC,GAAR,CAAYI,MAAZ,CAAmB,iBAAnB;AACD;;AAEDL,YAAQM,KAAR,GAAgBC,IAAhB,CAAqB;AAAA,aAAMP,QAAQQ,OAAR,EAAN;AAAA,KAArB;AACD;;;;;;;;UCxBeb,YAAAA;AAAT,WAASA,SAAT,CAAmBR,MAAnB,EAA2B,CAEjC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCEYsB,sBAAAA,sBADZ,qCAAc,cAAd;;;;;;;0BAICC,yCAAgB;AACdC,uBAAe,KAAKC,IAApB,iBAAoC,KAAKC,GAAzC;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCLUC,yBAAAA,yBADZ,qCAAc,iBAAd,WAGE,kCAAW,EAACC,eAAe,aAAhB,EAAX;AAED,8BAAc;AAAA;;AAAA;;AAAA;;AACZ,WAAKC,UAAL,GAAkB,CAAlB;AACD;;6BAEDC,iCAAY;AACV,UAAI,KAAKD,UAAL,KAAoB,CAAxB,EAA2B;AACzB,aAAKE,SAAL,GAAiB,EAAjB;AACD;AACF;;6BAEDC,qCAAc;AACZ,WAAKH,UAAL,GAAkB,KAAKE,SAAL,CAAeE,MAAjC;AACA,WAAKC,UAAL,GAAkB,KAAKH,SAAvB;AACD;;;;;;;;;aAfuD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCD7CI,gBAAAA,gBADZ;oBAECpC,2CAAgBC,QAAQC,QAAQ;AAC9BD,aAAOE,KAAP,GAAe,cAAf;AACAF,aAAOG,GAAP,CAAW,CACT,EAACC,OAAO,EAAR,EAAwBgC,UAAU,UAAlC,EADS,EAET,EAAChC,OAAO,UAAR,EAAwBC,UAAU,qBAAlC,EAAgEgC,UAAU,EAACnC,OAAO,iBAAR,EAA8BoC,QAAQ,CAAtC,EAA0CC,SAAS,iBAAnD,EAA1E,EAFS,EAGT,EAACnC,OAAO,OAAR,EAAwBC,UAAU,eAAlC,EAAgEgC,UAAU,EAACnC,OAAO,oBAAR,EAA8BoC,QAAQ,CAAtC,EAA0CC,SAAS,cAAnD,EAA1E,EAHS,EAIT,EAACnC,OAAO,OAAR,EAAwBC,UAAU,eAAlC,EAAgEgC,UAAU,EAACnC,OAAO,gBAAR,EAA8BoC,QAAQ,CAAtC,EAA0CC,SAAS,cAAnD,EAA1E,EAJS,EAKT,EAACnC,OAAO,aAAR,EAAwBC,UAAU,2BAAlC,EAAgEgC,UAAU,EAACnC,OAAO,oBAAR,EAAiCoC,QAAQ,CAAzC,EAA6CC,SAAS,oBAAtD,EAA1E,EALS,EAMT,EAACnC,OAAO,QAAR,EAAwBC,UAAU,iBAAlC,EAAgEgC,UAAU,EAACnC,OAAO,iBAAR,EAA8BoC,QAAQ,CAAtC,EAA0CC,SAAS,WAAnD,EAA1E,EANS,CAAX;AAQA,WAAKtC,MAAL,GAAcA,MAAd;AACD;;AACD,mBAAYuC,EAAZ,EAAgB;AAAA;;AACd,WAAKA,EAAL,GAAUA,EAAV;AACD;;oBACDC,6BAASC,QAAQ;AACf,WAAKC,EAAL,GAAUD,OAAOC,EAAjB;AACD;;oBACDC,+BAAW;AAAA;;AACT,WAAKC,UAAL,GAAkB,KAAK5C,MAAL,CAAY6C,MAAZ,CAAmBb,MAAnB,GAA4B,CAA9C;AACA,WAAKc,MAAL,GAAc,EAAd;;AAFS,iCAGAC,CAHA;AAIP,cAAKD,MAAL,CAAYC,CAAZ,IAAiB,EAACC,MAAMD,CAAP,EAAUE,MAAM,MAAKjD,MAAL,CAAY6C,MAAZ,CAAmBE,IAAE,CAArB,EAAwB5C,KAAxC,EAAjB;AACA,cAAKoC,EAAL,CAAQW,SAAR,CAAkB,MAAKlD,MAAL,CAAY6C,MAAZ,CAAmBE,IAAE,CAArB,EAAwBX,QAAxB,CAAiCE,OAAnD,EAA4D,eAAO;AACjE,gBAAKa,UAAL,GAAkB,EAACC,OAAOL,CAAR,EAAWM,OAAOC,GAAlB,EAAlB;AACA,gBAAKtD,MAAL,CAAY6C,MAAZ,CAAmBE,IAAE,CAArB,EAAwBX,QAAxB,CAAiCmB,KAAjC,GAAyCD,GAAzC;AACD,SAHD;AALO;;AAGT,WAAK,IAAIP,IAAI,CAAb,EAAgBA,IAAI,KAAKH,UAAzB,EAAqCG,KAAG,CAAxC,EAA2C;AAAA,cAAlCA,CAAkC;AAM1C;AACF;;oBAeDS,+BAAW;AACT,UAAI,KAAKC,KAAL,GAAa,KAAKb,UAAtB,EAAkC;AAChC,aAAKa,KAAL,GAAa,CAAb;AACA,aAAKzD,MAAL,CAAY0D,QAAZ,CAAqB,KAAK1D,MAAL,CAAY6C,MAAZ,CAAmB,KAAKY,KAAxB,EAA+BtD,KAApD;AACD;AACF;;oBACDwD,+BAAW;AACT,UAAI,KAAKF,KAAL,GAAa,CAAjB,EAAoB;AAClB,aAAKA,KAAL,GAAa,CAAC,CAAd;AACA,aAAKzD,MAAL,CAAY0D,QAAZ,CAAqB,KAAK1D,MAAL,CAAY6C,MAAZ,CAAmB,KAAKY,KAAxB,EAA+BtD,KAApD;AACD;AACF;;;;0BAvBW;AACV,aAAKkC,MAAL,GAAc,KAAKrC,MAAL,CAAY4D,kBAAZ,CAA+B7D,MAA/B,CAAsCqC,QAAtC,CAA+CC,MAA7D;AACA,eAAO,KAAKA,MAAZ;AACD;wBACSZ,KAAK;AACb,aAAKY,MAAL,GAAc,KAAKoB,KAAL,GAAahC,GAA3B;AACD;;;0BAEe;AACd,eAAO,KAAKzB,MAAL,CAAY4D,kBAAZ,CAA+B7D,MAA/B,CAAsCqC,QAAtC,CAA+CnC,KAAtD;AACD;;;0BAekB;AACjB,YAAI,KAAKoC,MAAL,KAAgB,CAApB,EAAuB;AACrB,iBAAO,CAAC,KAAKS,MAAL,CAAY,CAAZ,EAAeO,KAAvB;AACD,SAFD,MAEO;AACL,iBAAO,KAAKhB,MAAL,KAAgB,KAAKO,UAA5B;AACD;AACF;;;0BACkB;AACjB,eAAO,KAAKP,MAAL,KAAgB,CAAvB;AACD;;;0BAGgB;AACf,eAAO,KAAKS,MAAZ;AACD;wBACcrB,KAAK;AAClB,aAAKqB,MAAL,CAAYrB,IAAI2B,KAAhB,EAAuBC,KAAvB,GAA+B5B,IAAI4B,KAAnC;AACD;;;;;;;;;;;;;;;;;;;MC7EUQ,eAAAA;;;;;mBACX/D,2CAAgBC,QAAQC,QAAQ;AAC9BD,aAAOE,KAAP,GAAe,WAAf;AACAF,aAAOG,GAAP,CAAW,CACT,EAACC,OAAO,EAAR,EAAwBgC,UAAU,cAAlC,EADS,EAET,EAAChC,OAAO,SAAR,EAAwBC,UAAU,mBAAlC,EAFS,EAGT,EAACD,OAAO,SAAR,EAAwBC,UAAU,mBAAlC,EAHS,CAAX;AAKA,WAAKJ,MAAL,GAAcA,MAAd;AACD;;;;;;;;;;;;;;;;;;;;;MCPU8D,gBAAAA,gBADZ;AAEC,mBAAYvB,EAAZ,EAAgB;AAAA;;AACd,WAAKA,EAAL,GAAUA,EAAV;AACA,WAAKwB,QAAL,GAAgB,EAAhB;AACD;;oBACDvB,6BAASC,QAAQuB,cAAc;AAC7B,UAAIA,aAAa5B,QAAb,CAAsBmB,KAA1B,EAAiC;AAC/B,aAAKQ,QAAL,GAAgBC,aAAa5B,QAAb,CAAsBmB,KAAtC;AACD;AACD,WAAKjB,OAAL,GAAe0B,aAAa5B,QAAb,CAAsBE,OAArC;AACD;;oBACD2B,iCAAY;AACV,WAAK1B,EAAL,CAAQ2B,OAAR,CAAgB,KAAK5B,OAArB,EAA8B,KAAKyB,QAAnC;AACD;;;;;;;;;;;;;;;;;;;;;MCbUI,sBAAAA,sBADZ;AAEC,yBAAY5B,EAAZ,EAAgB;AAAA;;AACd,WAAKA,EAAL,GAAUA,EAAV;AACA,WAAK6B,WAAL,GAAmB,iBAAnB;AACA,WAAKC,UAAL,GAAkB,CAAlB;AACD;;0BACD7B,6BAASC,QAAQuB,cAAc;AAC7B,UAAIA,aAAa5B,QAAb,CAAsBmB,KAA1B,EAAiC;AAC/B,aAAKa,WAAL,GAAmBJ,aAAa5B,QAAb,CAAsBmB,KAAzC;AACA,aAAKc,UAAL,GAAkB,KAAKD,WAAL,CAAiBpC,MAAnC;AACD;AACD,WAAKM,OAAL,GAAe0B,aAAa5B,QAAb,CAAsBE,OAArC;AACD;;0BACDT,iCAAY;AACV,UAAI,KAAKwC,UAAL,KAAoB,CAAxB,EAA2B;AACzB,aAAKD,WAAL,GAAmB,EAAnB;AACD;AACF;;0BACDE,iCAAY;AACV,WAAK/B,EAAL,CAAQ2B,OAAR,CAAgB,YAAhB,EAA8B,KAAKE,WAAnC;AACA,WAAKC,UAAL,GAAkB,KAAKD,WAAL,CAAiBpC,MAAnC;AACA,WAAKO,EAAL,CAAQ2B,OAAR,CAAgB,KAAK5B,OAArB,EAA8B,KAAK8B,WAAnC;AACD;;;;;;;;;;;;;MC1BSG;;;;;;;;;;;;;;;;;;;;;;;;;;;MAKCC,mBAAAA,mBADZ;AAEC,sBAAYjC,EAAZ,EAAgB;AAAA;;AACdiC,eAASjC,EAAT,GAAcA,EAAd;AACD;;uBACDC,6BAASC,QAAQuB,cAAc;AAC7B,UAAIA,aAAa5B,QAAb,CAAsBmB,KAA1B,EAAiC;AAC/B,aAAKkB,YAAL,GAAoBT,aAAa5B,QAAb,CAAsBmB,KAA1C;AACD;AACDiB,eAASlC,OAAT,GAAmB0B,aAAa5B,QAAb,CAAsBE,OAAzC;AACD;;uBACDK,+BAAW;AACT,UAAI+B,UAAUH,EAAErE,GAAF,CAAM,YAAN,CAAd;AACA,UAAIyE,aAAaJ,EAAEK,IAAF,CAAO;AACtBC,iBAAS,0BADa;AAEtBC,kBAAU,CAAC,EAAD,EAAK,EAAL,CAFY;AAGtBC,oBAAY,CAAC,EAAD,EAAK,EAAL;AAHU,OAAP,CAAjB;AAKA,UAAIC,eAAJ;AACAT,QAAEU,SAAF,CAAY,yKAAZ,EAAuL;AACrLC,qBAAa;AADwK,OAAvL,EAEGC,KAFH,CAEST,OAFT;AAGA,UAAI,KAAKD,YAAT,EAAuB;AACrBC,gBAAQU,OAAR,CAAgB,KAAKX,YAArB,EAAmC,EAAnC;AACAO,iBAAST,EAAES,MAAF,CAAS,KAAKP,YAAd,EAA4B,EAACG,MAAMD,UAAP,EAA5B,EAAgDQ,KAAhD,CAAsDT,OAAtD,CAAT;AACAF,iBAASjC,EAAT,CAAY2B,OAAZ,CAAoBM,SAASlC,OAA7B,EAAsC,KAAKmC,YAA3C;AACD,OAJD,MAIO;AACLC,gBAAQW,MAAR,CAAe;AACbD,mBAAS,IADI;AAEbE,gBAAM;AAFO,SAAf;AAKAZ,gBAAQa,EAAR,CAAW,eAAX,EAA4B,UAAUC,CAAV,EAAa;AACvCjB,YAAEkB,MAAF,CAASf,QAAQgB,SAAR,EAAT,EAA8B;AAC5BC,oBAAQ,CADoB;AAE5BC,uBAAW,OAFiB;AAG5BC,yBAAa,IAHe;AAI5BC,oBAAQN,EAAEO,QAAF,GAAa;AAJO,WAA9B,EAKGZ,KALH,CAKST,OALT;AAMAH,YAAEyB,YAAF,CAAetB,QAAQgB,SAAR,EAAf,EAAoC;AAClCO,mBAAO,OAD2B;AAElCN,oBAAQ,CAF0B;AAGlCC,uBAAW,OAHuB;AAIlCC,yBAAa,CAJqB;AAKlCC,oBAAQ;AAL0B,WAApC,EAMGX,KANH,CAMST,OANT;AAOAM,mBAAST,EAAES,MAAF,CAASN,QAAQgB,SAAR,EAAT,EAA8B,EAACd,MAAMD,UAAP,EAA9B,EAAkDQ,KAAlD,CAAwDT,OAAxD,CAAT;AACAF,mBAASjC,EAAT,CAAY2B,OAAZ,CAAoBM,SAASlC,OAA7B,EAAsCoC,QAAQgB,SAAR,EAAtC;AACD,SAhBD;AAiBAhB,gBAAQa,EAAR,CAAW,eAAX,EAA4B,YAAY;AACtCb,kBAAQU,OAAR,CAAgB,CAAC,CAAC,GAAF,EAAO,MAAP,CAAhB,EAAgC,EAAhC;AACAZ,mBAASjC,EAAT,CAAY2B,OAAZ,CAAoBM,SAASlC,OAA7B,EAAsCoC,QAAQgB,SAAR,EAAtC;AACD,SAHD;AAID;AACDhB,cAAQa,EAAR,CAAW,SAAX,EAAsB,YAAY;AAChC,YAAIb,WAAWM,MAAf,EAAuB;AACrBN,kBAAQwB,WAAR,CAAoBlB,MAApB;AACAA,mBAAST,EAAES,MAAF,CAASN,QAAQgB,SAAR,EAAT,EAA8B,EAACd,MAAMD,UAAP,EAA9B,EAAkDQ,KAAlD,CAAwDT,OAAxD,CAAT;AACAF,mBAASjC,EAAT,CAAY2B,OAAZ,CAAoBM,SAASlC,OAA7B,EAAsCoC,QAAQgB,SAAR,EAAtC;AACD;AACF,OAND;AAOD;;;;;;;;;;;;;;;;;;;;;MC7DUS,gBAAAA,gBADZ;AAEC,mBAAY5D,EAAZ,EAAgB;AAAA;;AACd,WAAKA,EAAL,GAAUA,EAAV;AACD;;oBACDC,6BAASC,QAAQuB,cAAc;AAC7B,UAAIA,aAAa5B,QAAb,CAAsBmB,KAA1B,EAAiC;AAC/B,aAAK6C,aAAL,GAAqBpC,aAAa5B,QAAb,CAAsBmB,KAA3C;AACA,aAAK8C,OAAL,GAAe,IAAf;AACD;AACD,WAAK/D,OAAL,GAAe0B,aAAa5B,QAAb,CAAsBE,OAArC;AACA,WAAKgE,CAAL,GAAS,GAAT;AACA,WAAKC,CAAL,GAAS,GAAT;AACD;;oBACD5D,+BAAW;AACT,UAAI,KAAK0D,OAAT,EAAkB;AAChB,aAAKG,SAAL;AACD;AACF;;oBAGDA,iCAAY;AACV,WAAKjE,EAAL,CAAQ2B,OAAR,CAAgB,KAAK5B,OAArB,EAA8B,KAAK8D,aAAnC;AACA,UAAIK,UAAU,KAAKC,OAAnB;AACA,UAAIC,MAAM,KAAKL,CAAf;AACA,UAAIM,MAAM,KAAKL,CAAf;AACA,UAAIM,SAAS,IAAIC,UAAJ,EAAb;AACAD,aAAOE,MAAP,GAAgB,UAACvB,CAAD,EAAO;AACrB,YAAIwB,YAAY,IAAIC,KAAJ,EAAhB;AACAD,kBAAUD,MAAV,GAAmB,YAAM;AACvB,cAAIG,QAAQT,QAAQU,UAAR,CAAmB,IAAnB,CAAZ;AACAD,gBAAMV,SAAN,CAAgBQ,SAAhB,EAA2B,CAA3B,EAA8B,CAA9B,EAAiCL,GAAjC,EAAsCC,GAAtC;AACD,SAHD;AAIAI,kBAAUI,GAAV,GAAgB5B,EAAE6B,MAAF,CAASC,MAAzB;AACD,OAPD;AAQAT,aAAOU,aAAP,CAAqB,KAAKnB,aAAL,CAAmB,CAAnB,CAArB;AACD;;;;;;;;;;;;;;;;;;MCvCUtC,gBAAAA,QACX,iBAAc;AAAA;;AACZ,SAAK0D,QAAL,GAAgB,kBAAhB;AACD;;;;;;;;;;;;;;;MCHUC,kBAAAA;;;;;;;;;;;;;;;;;MCAAC,kBAAAA;;;;ACAb;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA","file":"app-bundle.js","sourcesContent":["export class App {\n\n  configureRouter(config, router) {\n    config.title = 'Petabencana.id';\n    config.map([\n      {route: ['', 'maps'],               moduleId: 'routes/maps/maps'},\n      {route: 'cards/:id',                moduleId: 'routes/cards/cards'}\n    ]);\n\n    this.router = router;\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  longStackTraces: environment.debug,\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","/* jshint esversion: 6 */\nimport {customElement, bindable, observable} from 'aurelia-framework';\n\n@customElement('depth-slider')\nexport class DepthSlider {\n  @bindable name;\n\n  updateContent() {\n    alert(`User: ${this.name} entered ${this.val}`);\n  }\n}\n","/* jshint esversion: 6 */\nimport {customElement, bindable, observable} from 'aurelia-framework';\n\n@customElement('description-box')\nexport class DescriptionBox {\n  @bindable exportText;\n  @observable({changeHandler: 'textChanged'}) inputText = 'Enter text here...';\n\n  constructor() {\n    this.charLength = 0;\n  }\n\n  clearHint() {\n    if (this.charLength === 0) {\n      this.inputText = '';\n    }\n  }\n\n  textChanged() {\n    this.charLength = this.inputText.length;\n    this.exportText = this.inputText;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {computedFrom} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(EventAggregator)\nexport class Cards {\n  configureRouter(config, router) {\n    config.title = 'Flood report';\n    config.map([\n      {route: '',             redirect: 'location'},\n      {route: 'location',     moduleId: './location/location',        settings: {title: 'Select location',    cardNo: 1,  msgName: 'changedLocation'}},\n      {route: 'depth',        moduleId: './depth/depth',              settings: {title: 'Report water depth', cardNo: 2,  msgName: 'changedDepth'}},\n      {route: 'photo',        moduleId: './photo/photo',              settings: {title: 'Upload a photo',     cardNo: 3,  msgName: 'changedPhoto'}},\n      {route: 'description',  moduleId: './description/description',  settings: {title: 'Describe the event',    cardNo: 4,  msgName: 'changedDescription'}},\n      {route: 'review',       moduleId: './review/review',            settings: {title: 'Review & submit',    cardNo: 5,  msgName: 'getInputs'}}\n    ]);\n    this.router = router;\n  }\n  constructor(ea) {\n    this.ea = ea;\n  }\n  activate(params) {\n    this.id = params.id;\n  }\n  attached() {\n    this.totalCards = this.router.routes.length - 1; //exclude {route:'', redirect:'location')\n    this.inputs = [];\n    for (let i = 0; i < this.totalCards; i+=1) { //exclude review card in loop\n      this.inputs[i] = {card: i, type: this.router.routes[i+1].route};  //(type) required for development stage only\n      this.ea.subscribe(this.router.routes[i+1].settings.msgName, msg => {\n        this.userInputs = {index: i, value: msg};  //required for development stage only\n        this.router.routes[i+1].settings.input = msg;\n      });\n    }\n  }\n\n  //@computedFrom('router')\n  get count() { //TODO navigation does not work unless getter is called from the DOM or elsewhere in js; check by removing <p>OTL, card number</p>\n    this.cardNo = this.router.currentInstruction.config.settings.cardNo;\n    return this.cardNo;\n  }\n  set count(val) {\n    this.cardNo = this.count + val;\n  }\n\n  get cardTitle() {\n    return this.router.currentInstruction.config.settings.title;\n  }\n\n  nextCard() {\n    if (this.count < this.totalCards) {\n      this.count = 1;\n      this.router.navigate(this.router.routes[this.count].route);\n    }\n  }\n  prevCard() {\n    if (this.count > 1) {\n      this.count = -1;\n      this.router.navigate(this.router.routes[this.count].route);\n    }\n  }\n\n  get nextDisabled() { //Use this.cardNo instead of this.count\n    if (this.cardNo === 1) {\n      return !this.inputs[0].value; //disable next button till location selected\n    } else {\n      return this.cardNo === this.totalCards;\n    }\n  }\n  get prevDisabled() {\n    return this.cardNo === 1;\n  }\n\n  //User inputs getter/setter for development stage only; not required for production\n  get userInputs() {\n    return this.inputs;\n  }\n  set userInputs(val) {\n    this.inputs[val.index].value = val.value;\n  }\n}\n","//imports\n\nexport class Maps {\n  configureRouter(config, router) {\n    config.title = 'Flood map';\n    config.map([\n      {route: '',             redirect: 'maps/jakarta'}, //add city variable for redirect based on a get request\n      {route: 'jakarta',      moduleId: './jakarta/jakarta'},\n      {route: 'surbaya',      moduleId: './surbaya/surbaya'}\n    ]);\n    this.router = router;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(EventAggregator)\nexport class Depth {\n  constructor(ea) {\n    this.ea = ea;\n    this.depthVal = 40;\n  }\n  activate(params, routerConfig) {\n    if (routerConfig.settings.input) {\n      this.depthVal = routerConfig.settings.input;\n    }\n    this.msgName = routerConfig.settings.msgName;\n  }\n  updateVal() {\n    this.ea.publish(this.msgName, this.depthVal);\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(EventAggregator)\nexport class Description {\n  constructor(ea) {\n    this.ea = ea;\n    this.descripText = \"Tell us more...\";\n    this.textLength = 0;\n  }\n  activate(params, routerConfig) {\n    if (routerConfig.settings.input) {\n      this.descripText = routerConfig.settings.input;\n      this.textLength = this.descripText.length;\n    }\n    this.msgName = routerConfig.settings.msgName;\n  }\n  clearHint() {\n    if (this.textLength === 0) {\n      this.descripText = \"\";\n    }\n  }\n  charCount() {\n    this.ea.publish('updateText', this.descripText);\n    this.textLength = this.descripText.length; //this.textLength requied to update bound helpers for description.html\n    this.ea.publish(this.msgName, this.descripText);\n  }\n}\n","import * as L from 'leaflet';\nimport {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(EventAggregator)\nexport class Location {\n  constructor(ea) {\n    Location.ea = ea; //scope of 'this' limited in cardMap.on functions, using 'Location' (debug)\n  }\n  activate(params, routerConfig) {\n    if (routerConfig.settings.input) {\n      this.userLocation = routerConfig.settings.input;\n    }\n    Location.msgName = routerConfig.settings.msgName;\n  }\n  attached() {\n    let cardMap = L.map('mapWrapper');\n    let markerIcon = L.icon({\n      iconUrl: 'assets/svg/marker-03.svg', //URL not working\n      iconSize: [60, 60],\n      iconAnchor: [30, 60]\n    });\n    let marker;\n    L.tileLayer('https://api.mapbox.com/styles/v1/asbarve/ciu0anscx00ac2ipgyvuieuu9/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYXNiYXJ2ZSIsImEiOiI4c2ZpNzhVIn0.A1lSinnWsqr7oCUo0UMT7w', {\n      attribution: 'Map data &copy; <a href=\"http://openstreetmap.org\">OSM</a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC BY-SA</a>, Imagery &copy; <a href=\"http://mapbox.com\">Mapbox</a>'\n    }).addTo(cardMap);\n    if (this.userLocation) {\n      cardMap.setView(this.userLocation, 12);\n      marker = L.marker(this.userLocation, {icon: markerIcon}).addTo(cardMap);\n      Location.ea.publish(Location.msgName, this.userLocation);\n    } else {\n      cardMap.locate({\n        setView: true,\n        zoom: 12\n        //watch: true\n      });\n      cardMap.on('locationfound', function (e) {\n        L.circle(cardMap.getCenter(), {\n          weight: 0,\n          fillColor: 'green',\n          fillOpacity: 0.15,\n          radius: e.accuracy / 2\n        }).addTo(cardMap);\n        L.circleMarker(cardMap.getCenter(), {\n          color: 'white',\n          weight: 1,\n          fillColor: 'green',\n          fillOpacity: 1,\n          radius: 8\n        }).addTo(cardMap);\n        marker = L.marker(cardMap.getCenter(), {icon: markerIcon}).addTo(cardMap);\n        Location.ea.publish(Location.msgName, cardMap.getCenter());\n      });\n      cardMap.on('locationerror', function () {\n        cardMap.setView([-6.2, 106.83], 10);\n        Location.ea.publish(Location.msgName, cardMap.getCenter());\n      });\n    }\n    cardMap.on('moveend', function () {\n      if (cardMap && marker) {\n        cardMap.removeLayer(marker);\n        marker = L.marker(cardMap.getCenter(), {icon: markerIcon}).addTo(cardMap);\n        Location.ea.publish(Location.msgName, cardMap.getCenter());\n      }\n    });\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(EventAggregator)\nexport class Photo {\n  constructor(ea) {\n    this.ea = ea;\n  }\n  activate(params, routerConfig) {\n    if (routerConfig.settings.input) {\n      this.selectedPhoto = routerConfig.settings.input;\n      this.haveImg = true;\n    }\n    this.msgName = routerConfig.settings.msgName;\n    this.w = 300;\n    this.h = 300;\n  }\n  attached() {\n    if (this.haveImg) {\n      this.drawImage();\n    }\n  }\n  //Add function to resize image for best-fit display within canvas;\n  //Add 'change image' button, once image is selected and displayed;\n  drawImage() {\n    this.ea.publish(this.msgName, this.selectedPhoto);\n    let wrapper = this.preview;\n    let phW = this.w;\n    let phH = this.h;\n    let reader = new FileReader();\n    reader.onload = (e) => {\n      let reviewImg = new Image();\n      reviewImg.onload = () => {\n        let cntxt = wrapper.getContext('2d');\n        cntxt.drawImage(reviewImg, 0, 0, phW, phH);\n      };\n      reviewImg.src = e.target.result;\n    };\n    reader.readAsDataURL(this.selectedPhoto[0]);\n  }\n}\n","export class Depth {\n  constructor() {\n    this.someName = 'Ignore, for test';\n  }\n}\n","export class Jakarta {\n  \n}\n","export class Surbaya {\n  \n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"sourceRoot":"../src"}